\documentclass[12pt, titlepage]{article}

\usepackage{amsmath, mathtools}

\usepackage[round]{natbib}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[section]{placeins}
\usepackage{caption}
\usepackage{fullpage}

\hypersetup{
bookmarks=true,     % show bookmarks bar?
colorlinks=true,       % false: boxed links; true: colored links
linkcolor=red,          % color of internal links (change box color with linkbordercolor)
citecolor=blue,      % color of links to bibliography
filecolor=magenta,  % color of file links
urlcolor=cyan          % color of external links
}

\usepackage{array}

\externaldocument{../../SRS/SRS}

\input{../../Comments}
\input{../../Common}

\begin{document}

\title{Module Interface Specification for \progname{}}

\author{\authname}

\date{\today}

\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
Date 1 & 1.0 & Notes\\
Date 2 & 1.1 & Notes\\
\bottomrule
\end{tabularx}

~\newpage

\section{Symbols, Abbreviations and Acronyms}

See SRS Documentation at \wss{give url}

\wss{Also add any additional symbols, abbreviations or acronyms}

\newpage

\tableofcontents

\newpage

\pagenumbering{arabic}

\section{Introduction}

The following document details the Module Interface Specifications for
\wss{Fill in your project name and description}

Complementary documents include the System Requirement Specifications
and Module Guide.  The full documentation and implementation can be
found at \url{...}.  \wss{provide the url for your repo}

\section{Notation}

\wss{You should describe your notation.  You can use what is below as
  a starting point.}

The structure of the MIS for modules comes from \citet{HoffmanAndStrooper1995},
with the addition that template modules have been adapted from
\cite{GhezziEtAl2003}.  The mathematical notation comes from Chapter 3 of
\citet{HoffmanAndStrooper1995}.  For instance, the symbol := is used for a
multiple assignment statement and conditional rules follow the form $(c_1
\Rightarrow r_1 | c_2 \Rightarrow r_2 | ... | c_n \Rightarrow r_n )$.

The following table summarizes the primitive data types used by \progname. 

\begin{center}
\renewcommand{\arraystretch}{1.2}
\noindent 
\begin{tabular}{l l p{7.5cm}} 
\toprule 
\textbf{Data Type} & \textbf{Notation} & \textbf{Description}\\ 
\midrule
character & char & a single symbol or digit\\
integer & $\mathbb{Z}$ & a number without a fractional component in (-$\infty$, $\infty$) \\
natural number & $\mathbb{N}$ & a number without a fractional component in [1, $\infty$) \\
real & $\mathbb{R}$ & any number in (-$\infty$, $\infty$)\\
date & Date & provides a specific date and time\\
\bottomrule
\end{tabular} 
\end{center}

\noindent
The specification of \progname \ uses some derived data types: sequences, strings, and
tuples. Sequences are lists filled with elements of the same data type. Strings
are sequences of characters. Tuples contain a list of values, potentially of
different types. In addition, \progname \ uses functions, which
are defined by the data types of their inputs and outputs. Local functions are
described by giving their type signature followed by their specification.

\section{Module Decomposition}

The following table is taken directly from the Module Guide document for this project.

\begin{table}[h!]
\centering
\begin{tabular}{p{0.3\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Level 1} & \textbf{Level 2}\\
\midrule

{Hardware-Hiding} & ~ \\
\midrule

\multirow{7}{0.3\textwidth}{Behaviour-Hiding} & Input Parameters\\
& Output Format\\
& Output Verification\\
& Temperature ODEs\\
& Energy Equations\\ 
& Control Module\\
& Specification Parameters Module\\
\midrule

\multirow{3}{0.3\textwidth}{Software Decision} & {Sequence Data Structure}\\
& ODE Solver\\
& Plotting\\
\bottomrule

\end{tabular}
\caption{Module Hierarchy}
\label{TblMH}
\end{table}

\newpage
~\newpage

\section{MIS of \wss{Module Name}} \label{Module} \wss{Use labels for
  cross-referencing}

\wss{You can reference SRS labels, such as R\ref{R_Inputs}.}

\wss{It is also possible to use \LaTeX for hypperlinks to external documents.}

\subsection{Module}

\wss{Short name for the module}

\subsection{Uses}


\subsection{Syntax}

\subsubsection{Exported Constants}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
\wss{accessProg} & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

\wss{Not all modules will have state variables.  State variables give the module
  a memory.}

\subsubsection{Environment Variables}

\wss{This section is not necessary for all modules.  Its purpose is to capture
  when the module has external interaction with the environment, such as for a
  device driver, screen interface, keyboard, file, etc.}

\subsubsection{Assumptions}

\wss{Try to minimize assumptions and anticipate programmer errors via
  exceptions, but for practical purposes assumptions are sometimes appropriate.}

\subsubsection{Access Routine Semantics}

\noindent \wss{accessProg}():
\begin{itemize}
\item transition: \wss{if appropriate} 
\item output: \wss{if appropriate} 
\item exception: \wss{if appropriate} 
\end{itemize}

\wss{A module without environment variables or state variables is unlikely to
  have a state transition.  In this case a state transition can only occur if
  the module is changing the state of another module.}

\wss{Modules rarely have both a transition and an output.  In most cases you
  will have one or the other.}

\subsubsection{Local Functions}

\wss{As appropriate} \wss{These functions are for the purpose of specification.
  They are not necessarily something that is going to be implemented
  explicitly.  Even if they are implemented, they are not exported; they only
  have local scope.}

\section{MIS of Account Creation Interface} \label{aci}

\subsection{Module}

Account Creation Interface

\subsection{Uses}

Account Creation Controller \ref{acc}

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
renderPage & Enum[labeler, client] & - & - \\
submitForm & list[(string, string)] & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None
\subsubsection{Environment Variables}
win: 2D sequence of coloured pixels

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent renderPage(userType):
\begin{itemize}
\item transition: win := Modify window so that it shows a registration form that asks for the necessary information depending on if the user is a labeler or client.
\end{itemize}

\noindent submitForm(formData):
\begin{itemize}
\item transition: Passes the submitted form data to the Account Creation Controller for validation and processing.
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Account Database} \label{accd}

\subsection{Module}

Account Database

\subsection{Uses}

Relational Database

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
insertUser & User & - & - \\
retrieveUser & string & User & - \\
updateUser & User & - & - \\
userExists & string & boolean & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None
\subsubsection{Environment Variables}
databaseConnection: connection to relational database

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent insertUser(user):
\begin{itemize}
\item transition: Insert user into database through databaseConection.
\end{itemize}

\noindent retrieveUser(email):
\begin{itemize}
\item output: 
\[
\begin{cases}
    \text{User where User.email == email}, & \text{if } \text{userExists(email)}\\
    \text{null}, & \text{otherwise}
\end{cases}
\]
\end{itemize}

\noindent updateUser(user):
\begin{itemize}
\item transition: 
\[
\begin{cases}
    \text{Update user in database through databaseConection}, & \text{if } \text{userExists(user.email)}\\
    \text{Do nothing} & \text{otherwise}
\end{cases}
\]
\end{itemize}

\noindent userExists(email):
\begin{itemize}
\item output: out := 
\[ \exists \, \text{User} \in \text{Database} \, \text{s.t.} \, \text{User.email} = \text{email}
\]
\end{itemize}


\subsubsection{Local Functions}
None

\section{MIS of Account Update Interface} \label{aui}

\subsection{Module}

Account Update Interface

\subsection{Uses}

Account Update Controller \ref{auc}

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
renderPage & User & - & - \\
submitForm & list[(string, string)] & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None
\subsubsection{Environment Variables}
win: 2D sequence of coloured pixels

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent renderPage(userInfo):
\begin{itemize}
\item transition: win := Modify window so that it shows a form with the current user's information. This information can be changed by the user.
\end{itemize}

\noindent submitForm(formData):
\begin{itemize}
\item transition: Passes the submitted changes to the Account Update Controller for validation and processing.
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Login Interface} \label{li}

\subsection{Module}

Login Interface

\subsection{Uses}

Authentication Controller \ref{ac}

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
renderPage & - & - & - \\
submitForm & list[(string, string)] & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None
\subsubsection{Environment Variables}
win: 2D sequence of coloured pixels

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent renderPage():
\begin{itemize}
\item transition: win := Modify window so that it shows a login form.
\end{itemize}

\noindent submitForm(formData):
\begin{itemize}
\item transition: Passes the submitted credentials to the Authentication Controller for validation.
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Access Token} \label{at}

\subsection{Module}

Access Token

\subsection{Uses}
None

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
isExpired & - & boolean & - \\
renew & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
    \item tokenValue: string
    \item expirationTime: Date
    \item userID: string
\end{itemize}
\subsubsection{Environment Variables}
None

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent isExpired():
\begin{itemize}
\item output: out := currentTime $>$ expirationTime
\end{itemize}

\noindent renew():
\begin{itemize}
\item transition: expirationTime := expirationTime + 5 hours
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Account Creation Interface} \label{aci}

\subsection{Module}

Account Creation Interface

\subsection{Uses}

Account Creation Controller \ref{acc}

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
renderPage & Enum[labeler, client] & - & - \\
submitForm & list[(string, string)] & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None
\subsubsection{Environment Variables}
win: 2D sequence of coloured pixels

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent renderPage(userType):
\begin{itemize}
\item transition: win := Modify window so that it shows a registration form that asks for the necessary information depending on if the user is a labeler or client.
\end{itemize}

\noindent submitForm(formData):
\begin{itemize}
\item transition: Passes the submitted form data to the Account Creation Controller for validation and processing.
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Account Database} \label{accd}

\subsection{Module}

Account Database

\subsection{Uses}

Relational Database

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
insertUser & User & - & - \\
retrieveUser & string & User & - \\
updateUser & User & - & - \\
userExists & string & boolean & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None
\subsubsection{Environment Variables}
databaseConnection: connection to relational database

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent insertUser(user):
\begin{itemize}
\item transition: Insert user into database through databaseConection.
\end{itemize}

\noindent retrieveUser(email):
\begin{itemize}
\item output: 
\[
\begin{cases}
    \text{User where User.email == email}, & \text{if } \text{userExists(email)}\\
    \text{null}, & \text{otherwise}
\end{cases}
\]
\end{itemize}

\noindent updateUser(user):
\begin{itemize}
\item transition: 
\[
\begin{cases}
    \text{Update user in database through databaseConection}, & \text{if } \text{userExists(user.email)}\\
    \text{Do nothing} & \text{otherwise}
\end{cases}
\]
\end{itemize}

\noindent userExists(email):
\begin{itemize}
\item output: out := 
\[ \exists \, \text{User} \in \text{Database} \, \text{s.t.} \, \text{User.email} = \text{email}
\]
\end{itemize}


\subsubsection{Local Functions}
None

\section{MIS of Account Update Interface} \label{aui}

\subsection{Module}

Account Update Interface

\subsection{Uses}

Account Update Controller \ref{auc}

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
renderPage & User & - & - \\
submitForm & list[(string, string)] & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None
\subsubsection{Environment Variables}
win: 2D sequence of coloured pixels

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent renderPage(userInfo):
\begin{itemize}
\item transition: win := Modify window so that it shows a form with the current user's information. This information can be changed by the user.
\end{itemize}

\noindent submitForm(formData):
\begin{itemize}
\item transition: Passes the submitted changes to the Account Update Controller for validation and processing.
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Login Interface} \label{li}

\subsection{Module}

Login Interface

\subsection{Uses}

Authentication Controller \ref{ac}

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
renderPage & - & - & - \\
submitForm & list[(string, string)] & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None
\subsubsection{Environment Variables}
win: 2D sequence of coloured pixels

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent renderPage():
\begin{itemize}
\item transition: win := Modify window so that it shows a login form.
\end{itemize}

\noindent submitForm(formData):
\begin{itemize}
\item transition: Passes the submitted credentials to the Authentication Controller for validation.
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Access Token} \label{at}

\subsection{Module}

Access Token

\subsection{Uses}
None

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
isExpired & - & boolean & - \\
renew & - & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
    \item tokenValue: string
    \item expirationTime: Date
    \item userID: string
\end{itemize}
\subsubsection{Environment Variables}
None

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent isExpired():
\begin{itemize}
\item output: out := currentTime $>$ expirationTime
\end{itemize}

\noindent renew():
\begin{itemize}
\item transition: expirationTime := expirationTime + 5 hours
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Labeler} \label{labeler}

\subsection{Module}

Labeler

\subsection{Uses}
Extends User \ref{user}

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
getFirstName & - & string & - \\
getLastName & - & string & - \\
getSkills & - & list[string] & - \\
getAvailability & - & int & - \\
setFirstName & string & - & - \\
setLastName & string & - & - \\
setSkills & list[string] & - & - \\
setAvailability & int & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
    \item firstName: string
    \item lastName: string
    \item skills: list[string]
    \item availability: int
\end{itemize}
\subsubsection{Environment Variables}
None

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent getFirstName():
\begin{itemize}
\item output: out := firstName
\end{itemize}

\noindent getLastName():
\begin{itemize}
\item output: out := lastName
\end{itemize}

\noindent getSkills():
\begin{itemize}
\item output: out := skills
\end{itemize}

\noindent getAvailability():
\begin{itemize}
\item output: out := availability
\end{itemize}

\noindent setFirstName(newfn):
\begin{itemize}
\item transition: firstName := newfn 
\end{itemize}

\noindent setLastName(newln):
\begin{itemize}
\item transition: lastName := newln
\end{itemize}

\noindent setSkills(newSkills):
\begin{itemize}
\item transition: skills := newSkills 
\end{itemize}

\noindent setAvailability(newAvail):
\begin{itemize}
\item transition: availability := newAvail
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Client} \label{client}

\subsection{Module}

Client

\subsection{Uses}
Extends User \ref{user}

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3.2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
getCompanyName & - & string & - \\
getIndustry & - & string & - \\
getTypicalProject & - & Image & - \\
setCompanyName & string & - & - \\
setIndustry & string & - & - \\
setTypicalProject & string & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
    \item companyName: string
    \item industry: string
    \item typicalProject: string
\end{itemize}
\subsubsection{Environment Variables}
None

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent getCompanyName():
\begin{itemize}
\item output: out := companyName
\end{itemize}

\noindent getIndustry():
\begin{itemize}
\item output: out := industry
\end{itemize}

\noindent getTypicalProject():
\begin{itemize}
\item output: out := typicalProject
\end{itemize}

\noindent setCompanyName(newcn):
\begin{itemize}
\item transition: companyName := newcn 
\end{itemize}

\noindent setIndustry(newIndustry):
\begin{itemize}
\item transition: industry := newIndustry
\end{itemize}

\noindent setTypicalProject(newtp):
\begin{itemize}
\item transition: typicalProject := newtp 
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of User} \label{user}

\subsection{Module}

User

\subsection{Uses}
None

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
getEmail & - & string & - \\
getPassword & - & string & - \\
getProfilePic & - & Image & - \\
setEmail & string & - & - \\
setPassword & string & - & - \\
setProfilePic & string & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
    \item email: string
    \item password: string
    \item profilePic: image
\end{itemize}
\subsubsection{Environment Variables}
None

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent getEmail():
\begin{itemize}
\item output: out := email
\end{itemize}

\noindent getPassword():
\begin{itemize}
\item output: out := password
\end{itemize}

\noindent getProfilePic():
\begin{itemize}
\item output: out := profilePic
\end{itemize}

\noindent setEmail(newEmail):
\begin{itemize}
\item transition: email := newEmail 
\end{itemize}

\noindent setPassword(newPassword):
\begin{itemize}
\item transition: password := newPassword
\end{itemize}

\noindent setProfilePic(newProfliePic):
\begin{itemize}
\item transition: profilePic := newProfilePic 
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Account Creation Controller} \label{acc}

\subsection{Module}

Account Creation Controller

\subsection{Uses}

Account Creation Interface \ref{aci}\\
Account Database \ref{accd} \\
User \ref{user} \\
Labeler \ref{labeler} \\
Client \ref{client}

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
validateForm & list[(string, string)], Enum[labeler, client] & boolean & - \\
createUser & list[(string, string)], Enum[labeler, client] & User & - \\
uploadUser & User & - & DatabaseException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None

\subsubsection{Environment Variables}
None

\subsubsection{Assumptions}
Assumes AccountDatabase is operational when calling uploadUser.

\subsubsection{Access Routine Semantics}
\noindent validateForm(formData, userType):
\begin{itemize}
\item output: out := 
$ \text{hasRequiredFields}(\text{formData}, \text{userFields}) \land \nonumber
    \text{isValidEmail}(\text{formData.email}) \land \nonumber \\
    \text{isValidPassword}(\text{formData.password}) \land $
\[
\begin{cases}
    \text{hasRequiredFields}(\text{formData}, \text{labelerFields}), & \text{if } \text{userType} = \text{"labeler"} \\
    \text{hasRequiredFields}(\text{formData}, \text{clientFields}), & \text{if } \text{userType} = \text{"client"} \\
    \text{true}, & \text{otherwise}
\end{cases}
\]
\textbf{Where:}
\begin{align*}
    \text{userFields} &= \{ \text{email, password} \} \\
    \text{labelerFields} &= \{ \text{firstName, lastName, skills, availability} \} \\
    \text{clientFields} &= \{ \text{companyName, industry, typicalProject} \}
\end{align*}
\end{itemize}

\noindent createUser(formData, userType):
\begin{itemize}
\item output: out := 
\[
\begin{cases}
    \text{Labeler}(\text{formData.email}, \text{formData.password}, \text{formData.firstName}, \\ \text{formData.lastName}, \text{formData.skills}, \text{int(formData.availability)}), & \text{if } \text{userType} = \text{"labeler"} \\
    \text{Client}(\text{formData.email}, \text{formData.password}, \text{formData.companyName}, \\ \text{formData.industry}, \text{formData.typicalProject}) & \text{if } \text{userType} = \text{"client"} \\
\end{cases}
\]
\end{itemize}

\noindent uploadUser(newUser):
\begin{itemize}
\item transition: Passes the User object to the AccountDatabase for storage.
\item exception: Throws DatabaseException if storage fails.
\end{itemize}

\subsubsection{Local Functions}
\begin{itemize}
    \item 
        \text{hasRequiredFields}(\text{data}, \text{fields}) =
        $\forall \text{field} \in \text{fields}, (\text{data[field]} \neq \text{""})$
        
    \item isValidEmail(email) = $\text{email} \in V \land \text{email} \neg \in \text{Registered Emails}$
    
    Let E represent the set of all email addresses, and let V represent the set of all valid email addresses. A valid email address conforms to the general pattern:\\\\
  V = $(\forall\; email \in E\;  |\; email \; matches \; the \; pattern \; $[a-zA-Z0-9+\_.-]+@[a-zA-Z0-9.-]+[a-zA-Z])
  \item isValidPassword(password) = $(password \; matches \; the \; pattern \; $(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[\#\$\%\&\*\@])[a-zA-Z0-9\#\$\%\&\*\@]\{8,\})\\
  
\end{itemize}

\section{MIS of Account Update Controller} \label{auc}

\subsection{Module}

Account Update Controller

\subsection{Uses}

Account Update Interface \ref{aui}\\
Account Database \ref{accd} \\
User \ref{user} \\

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
validateForm & list[(string, string)] & boolean & - \\
getUser & string & - & - \\
requestUpdate & User & - & DatabaseException \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
    \item user: User
\end{itemize}

\subsubsection{Environment Variables}
None

\subsubsection{Assumptions}
Assumes AccountDatabase is operational when calling requestUpdate.

\subsubsection{Access Routine Semantics}
\noindent validateForm(formData):
\begin{itemize}
\item output: out := $\forall \text{data} \in \text{formData}, (\text{data[1]} \neq \text{""})$
\end{itemize}

\noindent getUser(email):
\begin{itemize}
\item transition: user := AccountDatabase.retreiveUser(email)
\end{itemize}

\noindent requestUpdate(updatedUser):
\begin{itemize}
\item transition: Passes the updated User object to the AccountDatabase for modifications.
\item exception: Throws DatabaseException if storage fails.
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Authentication Controller} \label{ac}

\subsection{Module}

Authentication Controller

\subsection{Uses}

Login Interface \ref{li}\\
Account Database \ref{accd} \\
Access Token \ref{at} \\

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{4cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
validCredentials & (string, string) & boolean & - \\
generateAccessToken & string & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
    \item token: AccessToken
\end{itemize}

\subsubsection{Environment Variables}
None

\subsubsection{Assumptions}
Assumes AccountDatabase is operational when calling validCredentials.

\subsubsection{Access Routine Semantics}

\noindent validCredentials(email, password):
\begin{itemize}
\item output: out := AccountDatabase.retreiveUser(email) $\neq$ null \\ $\land$ AccountDatabase.retreiveUser(email).getPassword() == password
\end{itemize}

\noindent generateAccessToken(email):
\begin{itemize}
\item transition: token := AccessToken(email)
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Satellite Image Request Interface} \label{siri}

\subsection{Module}

Satellite Image Request Interface

\subsection{Uses}

Satellite Image Request Controller \ref{sirc}

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
renderPage & - & - & - \\
submitForm & list[(string, string)] & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None
\subsubsection{Environment Variables}
win: 2D sequence of coloured pixels

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent renderPage():
\begin{itemize}
\item transition: win := Modify window so that it shows a form requesting information regarding an image request.
\end{itemize}

\noindent submitForm(formData):
\begin{itemize}
\item transition: Passes the submitted changes to the Satellite Image Request Controller for validation and processing.
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Satellite Image Request Controller} \label{sirc}

\subsection{Module}

Satellite Image Request Controller

\subsection{Uses}

Satellite Image Request Interface \ref{siri}\\
Satellite Image Request \ref{sir} \\

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{4cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
validateForm & list[(string, string)] & boolean & - \\
requestImages & SatelliteImageRequest & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None

\subsubsection{Environment Variables}
None

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent validateForm(formData):
\begin{itemize}
\item output: out := $\forall \text{data} \in \text{formData}, (\text{data[1]} \neq \text{""})$
\end{itemize}

\noindent requestImages(imgRequest):
\begin{itemize}
\item transition: Passes imgRequest to third party image provider to be processed.
\end{itemize}

\subsubsection{Local Functions}
\begin{itemize}
    \item calculateCost(imgRequest): out := Use information given to calculate the cost of a request using third party rates
\end{itemize}

\section{MIS of Satellite Image Request} \label{sir}

\subsection{Module}

Satellite Image Request

\subsection{Uses}
None

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3.2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
getLocation & - & (float, float) & - \\
getRadius & - & float & - \\
getDate & - & Date & - \\
setLocation & (float, float) & - & - \\
setRadius & float & - & - \\
setDate & Date & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
    \item locationX: float
    \item locationY: float
    \item radius: float
    \item date: Date
\end{itemize}
\subsubsection{Environment Variables}
None

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent getLocation():
\begin{itemize}
\item output: out := (locationX, locationY)
\end{itemize}

\noindent getRadius():
\begin{itemize}
\item output: out := radius
\end{itemize}

\noindent getDate():
\begin{itemize}
\item output: out := date
\end{itemize}

\noindent setLocation(x, y):
\begin{itemize}
\item transition: locationX, locationY := x, y 
\end{itemize}

\noindent setRadius(newRadius):
\begin{itemize}
\item transition: radius := newRadius
\end{itemize}

\noindent setDate(newDate):
\begin{itemize}
\item transition: date := newDate 
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Project Creation Interface} \label{pci}

\subsection{Module}

Project Creation Interface

\subsection{Uses}

Project Creation Controller \ref{pcc}

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
renderPage & - & - & - \\
submitForm & list[(string, string)] & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None
\subsubsection{Environment Variables}
win: 2D sequence of coloured pixels

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent renderPage():
\begin{itemize}
\item transition: win := Modify window so that it shows a form requesting information regarding creating a new project.
\end{itemize}

\noindent submitForm(formData):
\begin{itemize}
\item transition: Passes the submitted changes to the Project Creation Controller for validation and processing.
\end{itemize}

\subsubsection{Local Functions}
None

\section{MIS of Project Creation Controller} \label{pcc}

\subsection{Module}

Project Creation Controller

\subsection{Uses}

Project Creation Interface \ref{pci}\\
Project \ref{project} \\

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{4cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
validateForm & list[(string, string)] & boolean & - \\
createNewProject & list[(string, string)] & Project & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
None

\subsubsection{Environment Variables}
None

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent validateForm(formData):
\begin{itemize}
\item output: out := $\forall \text{data} \in \text{formData}, (\text{data[1]} \neq \text{""})$
\end{itemize}

\noindent createNewProject(formData):
\begin{itemize}
\item output: out := 
    \text{Project}(formData.name, formData.description, formData.labelClasses.split(), \\ Date(formData.startDate), Date(formData.endDate))
\end{itemize}

\subsubsection{Local Functions}
\begin{itemize}
    \item calculateEstimatedCost(imgRequest): out := Use information given to calculate the estimated cost of a project.
\end{itemize}

\section{MIS of Project} \label{project}

\subsection{Module}

Project

\subsection{Uses}
None

\subsection{Syntax}

\subsubsection{Exported Constants}
None
\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{3.2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
getProjectID & - & int & - \\
getName & - & string & - \\
getDescription & - & string & - \\
getLabelClasses & - & list[Enum[string]] & - \\
getTimePeriod & - & (Date, Date) & - \\
setName & string & - & - \\
setDescription & string & - & - \\
setLabelClasses & list[Enum[string]] & - & - \\
setTimePeriod & (Date, Date) & - & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}
\begin{itemize}
    \item projectID: int
    \item name: string
    \item description: string
    \item labelClasses: list[Enum[String]]
    \item startDate: Date
    \item endDate: Date
\end{itemize}
\subsubsection{Environment Variables}
None

\subsubsection{Assumptions}
None

\subsubsection{Access Routine Semantics}

\noindent getProjectID():
\begin{itemize}
\item output: out := projectID
\end{itemize}

\noindent getName():
\begin{itemize}
\item output: out := name
\end{itemize}

\noindent getDescription():
\begin{itemize}
\item output: out := description
\end{itemize}

\noindent getLabelClasses():
\begin{itemize}
\item output: out := labelClasses
\end{itemize}

\noindent getTimePeriod():
\begin{itemize}
\item output: out := (startDate, endDate)
\end{itemize}

\noindent setName(newName):
\begin{itemize}
\item transition: name := newName 
\end{itemize}

\noindent setDescription(newDesc):
\begin{itemize}
\item transition: description := newDesc
\end{itemize}

\noindent setLabelClasses(newlc):
\begin{itemize}
\item transition: labelClasses := newlc 
\end{itemize}

\noindent setTimePeriod(start, end):
\begin{itemize}
\item transition: startDate, endDate := start, end 
\end{itemize}

\subsubsection{Local Functions}
None

\newpage

\bibliographystyle {plainnat}
\bibliography {../../../refs/References}

\newpage

\section{Appendix} \label{Appendix}

\wss{Extra information if required}

\newpage{}

\section*{Appendix --- Reflection}

\wss{Not required for CAS 741 projects}

The information in this section will be used to evaluate the team members on the
graduate attribute of Problem Analysis and Design.

\input{../../Reflection.tex}

\begin{enumerate}
  \item What went well while writing this deliverable? 
  \item What pain points did you experience during this deliverable, and how
    did you resolve them?
  \item Which of your design decisions stemmed from speaking to your client(s)
  or a proxy (e.g. your peers, stakeholders, potential users)? For those that
  were not, why, and where did they come from?
  \item While creating the design doc, what parts of your other documents (e.g.
  requirements, hazard analysis, etc), it any, needed to be changed, and why?
  \item What are the limitations of your solution?  Put another way, given
  unlimited resources, what could you do to make the project better? (LO\_ProbSolutions)
  \item Give a brief overview of other design solutions you considered.  What
  are the benefits and tradeoffs of those other designs compared with the chosen
  design?  From all the potential options, why did you select the documented design?
  (LO\_Explores)
\end{enumerate}


\end{document}