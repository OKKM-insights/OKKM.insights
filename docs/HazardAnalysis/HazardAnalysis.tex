\documentclass{article}
% comment for testing workflow v33
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{multirow}
\usepackage{float}
\usepackage{longtable}

\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
Date1 & Name(s) & Description of changes\\
Date2 & Name(s) & Description of changes\\
... & ... & ...\\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\pagenumbering{arabic}

\wss{You are free to modify this template.}

\section{Introduction}
Test Text

\wss{You can include your definition of what a hazard is here.}

\section{Scope and Purpose of Hazard Analysis}

\wss{You should say what \textbf{loss} could be incurred because of the
hazards.}

\section{System Boundaries and Components}

\subsection{Front End (FE)}
\textbf{Potential Hazards:}
\begin{itemize}
    \item \textbf{User Input Errors:} The frontend may not properly validate inputs (e.g., incorrectly labeled data or unauthorized access attempts).
    \item \textbf{UI Design Flaws:} Poor usability could cause users to make mistakes, such as submitting incorrect labels or missing important instructions.
    \item \textbf{Cross-Site Scripting (XSS):} JavaScript code that improperly checks user inputs could allow malicious scripts to be executed in the user's browser.
    \item \textbf{Session Hijacking:} Improper management of session tokens and cookies could allow attackers to impersonate users.
\end{itemize}
\textbf{Mitigations:}
\begin{itemize}
    \item Implement thorough input validation and provide clear feedback to users.
    \item Ensure that critical actions like labeling are supported by warnings or confirmations to reduce errors.
    \item Use Content Security Policy (CSP) headers and HTML escaping techniques to prevent XSS attacks.
    \item Secure cookies with \texttt{HttpOnly} and \texttt{Secure} flags and employ strong session management practices.
\end{itemize}

\subsection{Back End (BE)}
\subsubsection{Login Service}
\textbf{Potential Hazards:}
\begin{itemize}
    \item \textbf{Authentication Failure:} Unauthorized access could allow malicious actors to label data incorrectly or access sensitive customer information.
    \item \textbf{Session Hijacking:} If session management is not handled correctly, attackers could hijack valid user sessions.
\end{itemize}
\textbf{Mitigations:}
\begin{itemize}
    \item Implement strong authentication mechanisms (e.g., two-factor authentication) and monitor for suspicious login activity.
    \item Secure cookies and session tokens, implementing timeout features.
\end{itemize}

\subsubsection{Money Service}
\textbf{Potential Hazards:}
\begin{itemize}
    \item \textbf{Payment Failures:} Incorrect payments could cause disputes between the labelers and the platform, leading to operational delays.
    \item \textbf{Financial Data Breaches:} Weak encryption or improper payment processor integration could expose sensitive financial data.
\end{itemize}
\textbf{Mitigations:}
\begin{itemize}
    \item Secure payment processing with encryption and multi-step verification for payout transactions.
    \item Implement industry-standard encryption for payment details and integrate with PCI-DSS-compliant payment gateways.
\end{itemize}

\subsubsection{Task Delegation Service}
\textbf{Potential Hazards:}
\begin{itemize}
    \item \textbf{Task Misallocation:} If tasks are assigned to unqualified labelers, the quality of data labeling could decrease, leading to flawed training data.
\end{itemize}
\textbf{Mitigations:}
\begin{itemize}
    \item Employ task delegation algorithms that consider labelers’ accuracy and expertise.
\end{itemize}

\subsection{Database (DB)}
\textbf{Potential Hazards:}
\begin{itemize}
    \item \textbf{Data Corruption or Loss:} Corrupted or missing data, especially labeled data, can introduce significant inaccuracies in model training and analysis.
    \item \textbf{SQL Injection:} If queries are not parameterized, attackers may manipulate query inputs, resulting in unauthorized access or data manipulation.
\end{itemize}
\textbf{Mitigations:}
\begin{itemize}
    \item Implement backups and data redundancy mechanisms to prevent loss or corruption.
    \item Use parameterized queries or prepared statements to prevent SQL injection.
    \item Ensure proper data validation before storing data.
\end{itemize}

\subsection{Machine Learning Task Allocation Model}
\textbf{Potential Hazards:}
\begin{itemize}
    \item \textbf{Model Misconfiguration:} The allocation model may incorrectly assign tasks if it misinterprets labeler performance data, leading to inefficiency and low-quality labeled datasets.
    \item \textbf{Bias in Task Allocation:} If the model favors certain users, this could introduce biases in the labeling process, affecting data accuracy.
    \item \textbf{Adversarial Attacks:} Machine learning models might be vulnerable to adversarial attacks that can skew the task allocations.
\end{itemize}
\textbf{Mitigations:}
\begin{itemize}
    \item Continuously monitor and test the task allocation model’s performance and adjust for fairness and accuracy.
    \item Implement adversarial training or model-hardening techniques to defend against attacks.
\end{itemize}

\subsection{Libraries (e.g., BoTorch, TensorFlow, PyTorch)}
\textbf{Potential Hazards:}
\begin{itemize}
    \item \textbf{Library Bugs or Vulnerabilities:} External libraries may have bugs or security vulnerabilities that can affect system performance or introduce security risks.
    \item \textbf{Version Conflicts:} Dependency issues may arise when integrating BoTorch with other machine learning libraries.
    \item \textbf{Optimization Failures:} Incorrect hyperparameter optimization might result in poor allocation of labeling tasks.
    \item \textbf{Adversarial Model Attacks:} TensorFlow or PyTorch models may be susceptible to adversarial attacks, leading to incorrect classifications.
\end{itemize}
\textbf{Mitigations:}
\begin{itemize}
    \item Regularly update libraries and conduct security audits to ensure all dependencies are secure.
    \item Use virtual environments or Docker to manage dependencies and avoid conflicts.
    \item Rigorously test optimization outcomes using test datasets.
    \item Implement adversarial defenses, such as adversarial training and data augmentation.
\end{itemize}

\subsection{Python (General Back-End Processing)}
\textbf{Potential Hazards:}
\begin{itemize}
    \item \textbf{Performance Bottlenecks:} Python can introduce performance issues, especially in CPU-bound processes.
    \item \textbf{Memory Leaks:} Improper memory management can cause resource exhaustion, leading to crashes.
    \item \textbf{Security Vulnerabilities:} Since Python is dynamically typed, unexpected inputs could lead to runtime errors, potentially compromising data integrity.
\end{itemize}
\textbf{Mitigations:}
\begin{itemize}
    \item Use Cython or external compiled languages for performance-critical tasks.
    \item Regularly run memory profiling tools to ensure no memory leaks.
    \item Implement input validation and use static analysis tools like \texttt{bandit} to enforce security best practices.
\end{itemize}

\subsection{Docker (Containerization)}
\textbf{Potential Hazards:}
\begin{itemize}
    \item \textbf{Container Breakout:} Misconfigurations or unpatched vulnerabilities in Docker containers could allow attackers to escape the container and gain access to the host system.
    \item \textbf{Resource Exhaustion:} Poor resource management inside containers could lead to resource exhaustion, affecting system performance.
\end{itemize}
\textbf{Mitigations:}
\begin{itemize}
    \item Use security best practices such as running containers with the least privilege, using \texttt{Seccomp} profiles, and isolating sensitive workloads.
    \item Set resource limits on containers to prevent exhaustion of host system resources.
\end{itemize}

\section{Critical Assumptions}

\wss{These assumptions that are made about the software or system.  You should
minimize the number of assumptions that remove potential hazards.  For instance,
you could assume a part will never fail, but it is generally better to include
this potential failure mode.}

\section{Failure Mode and Effect Analysis}

\setlength\LTleft{-4.3cm}
\scriptsize
\begin{longtable}{|l|l|l|l|l|l|l|l|}
\hline
\textbf{\begin{tabular}[c]{@{}l@{}}Design \\ Function\end{tabular}} &
  \textbf{\begin{tabular}[c]{@{}l@{}}Failure \\ Modes\end{tabular}} &
  \textbf{Effects of Failure} &
  \textbf{Causes of Failure} &
  \textbf{Detection} &
  \textbf{Recommended Action} &
  \textbf{SR} &
  \textbf{Ref} \\ \hline
\endfirsthead
%
\endhead
%
\multirow{2}{*}{\begin{tabular}[c]{@{}l@{}}Account \\ Creation\end{tabular}} &
  \begin{tabular}[c]{@{}l@{}}User already \\ exists\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}User can not \\ create an\\ account\end{tabular} &
  Email is duplicated &
  \begin{tabular}[c]{@{}l@{}}Compare the email \\ entered with the user \\ database records\\ to see if the email is in use\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Notify the user that the email \\ is associated with another\\  account\\ \\ Prompt them to give another \\ email or sign in with the one \\ they entered\end{tabular} &
   &
  H1-1 \\ \cline{2-8} 
 &
  \begin{tabular}[c]{@{}l@{}}Invalid input \\ syntax and \\ length\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}User can not\\ create an\\ account\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}1) Email is not valid\\ 2) Password is not \\ strong enough\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}1) Use regular expressions \\ to  detect if the string \\ pattern  is valid\\ 2) Use regular expressions \\ to detect if all password \\ requirements are met\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}1) Notify the user that they must\\ enter a valid email and give an \\ example of a valid email\\ 2) Tell the user what password\\ requirements they have and \\ have not satisfied\end{tabular} &
   &
  H1-2 \\ \hline
\multirow{2}{*}{Log In} &
  \begin{tabular}[c]{@{}l@{}}Incorrect \\ credentials \\ entered\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}User can not\\ access application\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}1) No account with\\ the entered email\\ exists\\ 2) Password does\\ not match records\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}1) Compare email entered \\ with database records to \\ see if account exists\\ 2) Compare password \\ entered with what is stored \\ in the database for\\ the entered email\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}1) Tell user account does not\\ exist and prompt them to \\ make one\\ 2) Tell user password is incorrect\\ and prompt password recovery\end{tabular} &
   &
  H2-1 \\ \cline{2-8} 
 &
  \begin{tabular}[c]{@{}l@{}}Excessive \\ permissions \\ given\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Users can perform\\ unauthorized\\ actions\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Application paths\\ are unprotected\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Check user login token \\ each time a new page of \\ the website is accessed\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Tell the user to log in\\ \\ Deny access if they try to \\ access a \\ page they should not\end{tabular} &
   &
  H2-2 \\ \hline
\multirow{4}{*}{\begin{tabular}[c]{@{}l@{}}Labeling \\ Satallite \\ Images\end{tabular}} &
  \begin{tabular}[c]{@{}l@{}}Internet \\ connection \\ is lost\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Users can not \\ submit labeled\\ images or \\ navigate the website\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Internet connection\\ is weak or power\\ is lost\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Device shows no internet\\ connection\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Any labeled photos or created \\ projects that have already been\\ submitted have been saved\\ \\ Progress is resumed when \\ connection is re-established\end{tabular} &
   &
  H3-1 \\ \cline{2-8} 
 &
  \begin{tabular}[c]{@{}l@{}}Application is \\ closed\end{tabular} &
  Same as H3-1 &
  \begin{tabular}[c]{@{}l@{}}Power outage or\\ misclick\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Application is no longer \\ running on the users \\ device\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Any labeled photos or created\\ projects that have already been\\ submitted have been saved\\ \\ Progress is resumed on log in\end{tabular} &
   &
  H3-2 \\ \cline{2-8} 
 &
  \begin{tabular}[c]{@{}l@{}}Unlabelled data \\ is submitted\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Bad data is \\ added to the \\ dataset\end{tabular} &
  Misclick &
  \begin{tabular}[c]{@{}l@{}}On submission, \\ application checks that \\ there are as many\\ labels as requested \\ by the job\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Reject a submission if no \\ labeling was done\end{tabular} &
   &
  H3-3 \\ \cline{2-8} 
 &
  \begin{tabular}[c]{@{}l@{}}Mass labeling \\ done too quickly\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Bad data is \\ added and \\ reward system\\ is abused\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Bots have been\\ deployed to make\\ quick labels\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}User is submitting data \\ at an unreasonable \\ speed\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Implement a submission cool \\ down to prevent \\ bot submissions \\ \\ Reward system is based \\ on accuracy\end{tabular} &
   &
  H3-4 \\ \hline
\multirow{2}{*}{\begin{tabular}[c]{@{}l@{}}Backend \\ Server \\ and \\ API \\ Requests\end{tabular}} &
  Server crashes &
  \begin{tabular}[c]{@{}l@{}}All services \\ provided\\ by the server \\ are down\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Software error on\\ server side\end{tabular} &
  Error found in logs &
  \begin{tabular}[c]{@{}l@{}}Monitor errors in logs\\ \\ Notify users that the \\ server is down\end{tabular} &
   &
  H4-1 \\ \cline{2-8} 
 &
  \begin{tabular}[c]{@{}l@{}}API is not \\ responding\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}All services \\ provided\\ by an API \\ do not work\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}API service provider\\ is down or\\ overwhelmed\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Response from the \\ API has an error code\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Retry all API requests after a \\ specific amount of time\\ \\ Monitor errors in logs\end{tabular} &
   &
  H4-2 \\ \hline
\multirow{3}{*}{Data Storage} &
  \begin{tabular}[c]{@{}l@{}}User account is\\ compromised\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}User info is\\ exposed and \\ they will be\\ dissatisfied \\ with the\\ application\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Lack of encryption\\ and protection of\\ sensitive infomation\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}User notifies the team \\ of lost reward balance \\ or lost account access\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Ensure user passwords are \\ encrpyted when stored\\ \\ Ensure financial transactions \\ are secure\\ \\ Password reset occurs \\ through a trusted \\ source such as email\end{tabular} &
   &
  H5-1 \\ \cline{2-8} 
 &
  \begin{tabular}[c]{@{}l@{}}Duplicate entry \\ occurs\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Data inconsistency,\\ unneccesary \\ storage\\ usage, and slower\\ query performance\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Lack of \\ constraints/validation\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Check the database \\ entries\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Ensure the database has \\ unique keys\\ \\ Set up a duplicate key \\ procedure on the\\ database\end{tabular} &
   &
  H5-2 \\ \cline{2-8} 
 &
  \begin{tabular}[c]{@{}l@{}}Database is \\ compromised\end{tabular} &
  \begin{tabular}[c]{@{}l@{}}Data inconsistency,\\ malicous entries, \\ and data leaks\end{tabular} &
  SQL injection &
  Check database entries &
  \begin{tabular}[c]{@{}l@{}}Use parameterized queries\\ \\ Avoid dynamic SQL strings\end{tabular} &
   &
  H5-3 \\ \hline
\end{longtable}

\normalsize

\section{Safety and Security Requirements}

\wss{Newly discovered requirements.  These should also be added to the SRS.  (A
rationale design process how and why to fake it.)}

\section{Roadmap}

\wss{Which safety requirements will be implemented as part of the capstone timeline?
Which requirements will be implemented in the future?}

\newpage{}

\section*{Appendix --- Reflection}

\wss{Not required for CAS 741}

\input{../Reflection.tex}

\begin{enumerate}
    \item What went well while writing this deliverable? sample text
    \item What pain points did you experience during this deliverable, and how
    did you resolve them?
    \item Which of your listed risks had your team thought of before this
    deliverable, and which did you think of while doing this deliverable? For
    the latter ones (ones you thought of while doing the Hazard Analysis), how
    did they come about?
    \item Other than the risk of physical harm (some projects may not have any
    appreciable risks of this form), list at least 2 other types of risk in
    software products. Why are they important to consider?
\end{enumerate}

\end{document}
